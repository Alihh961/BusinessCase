<section>
    <span class="bi bi-at"></span>


    <div class="section">

        <div class="container">

            <div class="row full-height justify-content-center">

                <div class="col-12 text-center align-self-center">

                    <div class="section pb-5 pt-5 text-center">

                        <input class="checkbox" type="checkbox" id="reg-log" name="reg-log"
                            (click)="changingColorOfSpan()" />
                        <label for="reg-log"></label>
                        <label for="lol"></label>
                        <h6 class="mb-0 pb-3"><span #signinspan>Sign In </span><span #signupspan>Sign Up</span></h6>
                        <div class="card-3d-wrap mx-auto my-0">
                            <div class="card-3d-wrapper">


                                <!-- Login form  -->
                                <form class="card-front">
                                    <div class="center-wrap full-height">
                                        <div class="section text-center">
                                            <h4 class="mb-4 pb-3">Log In</h4>
                                            <div class="form-group m-auto">
                                                <input type="email" name="logemail" class="form-style"
                                                    placeholder="Your Email" id="logemail" autocomplete="off">
                                                <i class="input-icon uil uil-at"></i>
                                            </div>




                                            <div class="form-group m-auto mt-2">
                                                <input type="password" name="logpass" class="form-style"
                                                    placeholder="Your Password" id="logpass" autocomplete="off">
                                                <i class="input-icon uil uil-lock-alt"></i>
                                            </div>



                                            <button class="btn mt-4">Log-in</button>


                                            <p class="mb-0 mt-4 text-center"><a href="#0" class="link">Forgot your
                                                    password?</a></p>
                                        </div>
                                    </div>
                                </form>



                                <!-- Registration form -->
                                <form action="http://localhost/backend/inscription.php" method="POST" class="card-back"
                                    id="targeter" #registrationForm="ngForm"
                                    (ngSubmit)="onRegFormSubmit(registrationForm)" (ngModelChange)="onBlur($event)">

                                    <br><br>
                                    <h4 class="">Sign Up</h4>


                                    <div class="center-wrap full-height section text-center d-flex gap-5 px-5">


                                        <!-- Start First Face  -->
                                        <div class="firstFace face" #firstFace #firstFaceGroup="ngModelGroup"
                                            ngModelGroup="firstFaceGroup">

                                            <!-- First name -->
                                            <div class="form-group">
                                                <input type="text" name="firstname" class="form-style"
                                                    placeholder="First Name" autocomplete="off" required
                                                    pattern="^[a-zA-Z]+$" [(ngModel)]="userinscriptiondetails.firstname"
                                                    #firstname="ngModel">
                                                <i class="input-icon uil uil-user"></i>
                                                <div class="alert alert-danger"
                                                    *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)">

                                                    <div *ngIf="firstname.errors?.['required']">
                                                        First name is required.
                                                    </div>
                                                    <div *ngIf="firstname.errors?.['pattern']">
                                                        Invalid format.
                                                    </div>

                                                </div>
                                            </div>


                                            <!-- Last name -->
                                            <div class="form-group mt-2">
                                                <input type="text" name="lastname" class="form-style"
                                                    placeholder="Last Name" autocomplete="off"
                                                    [(ngModel)]="userinscriptiondetails.lastname" #lastname="ngModel"
                                                    pattern="^[a-zA-Z\s]+$" required>
                                                <i class="input-icon uil uil-user"></i>
                                                <div class="alert alert-danger"
                                                    *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)">

                                                    <div *ngIf="lastname.errors?.['required']">
                                                        Last name is required.
                                                    </div>
                                                    <div *ngIf="lastname.errors?.['pattern']">
                                                        Invalid format.
                                                    </div>
                                                </div>
                                            </div>



                                            <!-- Date Of Birth -->
                                            <div class="form-group mt-2 d-flex flex-column">
                                                <span class="position-absolute dob">Date of Birth</span>
                                                <input type="date" name="dateofbirth" class="form-style"
                                                    autocomplete="off" max="{{maxDate}}" #birthdate="ngModel"
                                                    [(ngModel)]="userinscriptiondetails.birthdate" required>
                                                <i class="input-icon uil uil-calendar-alt"></i>

                                                <div *ngIf="birthdate.invalid && (birthdate.touched || birthdate.dirty)"
                                                    class="alert alert-danger">
                                                    <div *ngIf="birthdate.errors?.['required']">Birthdate is
                                                        required</div>
                                                    <div *ngIf="birthdate.errors?.['minAge']">You must be at
                                                        least 18 years old to register</div>
                                                </div>
                                            </div>

                                            <svg *ngIf="firstFaceGroup.valid" class="nextArrow toSecondFace"
                                                (click)="changingFace($event)" xmlns="http://www.w3.org/2000/svg"
                                                width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M5 12h14M12 5l7 7-7 7" class="nextArrow toSecondFace"
                                                    (click)="changingFace($event)" />
                                            </svg>

                                        </div>
                                        <!-- End of First Face -->




                                        <!-- Start of Second Face -->
                                        <div class="secondFace face" #secondFace #secondFaceGroup="ngModelGroup"
                                            ngModelGroup="secondFaceGroup">

                                            <!-- EMail -->
                                            <div class="form-group mt-2">
                                                <input type="email" name="inscriptionemail" class="form-style"
                                                    placeholder="Your Email" autocomplete="off"
                                                    [(ngModel)]="userinscriptiondetails.email" #email="ngModel"
                                                    pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" required>
                                                <i class="input-icon uil uil-at"></i>

                                                <div class="alert alert-danger"
                                                    *ngIf="email.invalid && (email.dirty || email.touched)">

                                                    <div *ngIf="email.errors?.['required']">
                                                        Email is required.
                                                    </div>
                                                    <div *ngIf="email.errors?.['pattern'] ">
                                                        Invalid email format.
                                                    </div>
                                                </div>
                                            </div>



                                            <!-- Password -->
                                            <div class="form-group mt-2">
                                                <input type="password" name="password" class="form-style"
                                                    placeholder="Your Password" id="pass" autocomplete="off" required
                                                    [(ngModel)]="userinscriptiondetails.password" #pass="ngModel"
                                                    pattern="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$"
                                                    (ngModelChange)="checkPasswordMatch()">


                                                <i class="input-icon uil uil-lock-alt"></i>
                                                <div class="alert alert-danger"
                                                    *ngIf="pass.invalid && (pass.touched || pass.dirty)">
                                                    <span>At Least one LowerCase,UpperCase,SpaecialCharacter
                                                        ,Number (total of 8 characters)</span>
                                                </div>

                                                <div class="alert alert-danger" *ngIf="!passwordMatch && pass.dirty">
                                                    <span>Password doesn't match!</span>
                                                </div>


                                            </div>


                                            <!-- Confirmed Password -->
                                            <div class="form-group mt-2">
                                                <input type="password" name="passwordconfirmation" class="form-style"
                                                    placeholder="Confirmed Password" id="confpass" autocomplete="off"
                                                    required [(ngModel)]="userinscriptiondetails.passwordconfirmation"
                                                    (ngModelChange)="checkPasswordMatch()"
                                                    pattern="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$">

                                                <i class="input-icon uil uil-lock-alt"></i>
                                            </div>

                                            <svg *ngIf="secondFaceGroup.valid" (click)="changingFace($event)"
                                                class='nextArrow toThirdFace' xmlns="http://www.w3.org/2000/svg"
                                                width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M5 12h14M12 5l7 7-7 7" (click)="changingFace($event)"
                                                    class='nextArrow toThirdFace' />
                                            </svg>

                                            <svg (click)="changingFace($event)" class="previousArrow toFirstFace"
                                                xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M19 12H5M12 19L5 12l7-7" (click)="changingFace($event)"
                                                    class="previousArrow toFirstFace" />
                                            </svg>

                                        </div>
                                        <!-- End of Second Face  -->

                                        <!-- Start of Third Face -->
                                        <div class="thirdFace face" #thirdFace #thirdFaceGroup="ngModelGroup"
                                            ngModelGroup="thirdFaceGroup">
                                            <!-- Full Address -->
                                            <div class="form-group mt-2 d-flex align-items-start flex-column gap-2">
                                                <span>Full Address:</span>


                                                <div class="d-flex justify-content-between align-items-center">
                                                    <input class="form-style p-0 text-center" #input type="text"
                                                        name="street" placeholder="Street Name" autocomplete="off"
                                                        [(ngModel)]="userinscriptiondetails.street"
                                                        (ngModelChange)="searchingAddress(userinscriptiondetails.street)"
                                                        (blur)="onBlur($event)" pattern="" required>
                                                    <div class="addressResults" #addressResults>

                                                        <div class="suggestions" #suggestions
                                                            *ngFor="let address of features"
                                                            (click)="selectaddress($event)">
                                                            {{address.properties.name}},
                                                            {{address.properties.city}},{{address.properties.postcode}}
                                                        </div>

                                                    </div>


                                                    <input type="text" name="buildingnumber" placeholder="Bld. №"
                                                        class="form-style p-0 text-center"
                                                        [(ngModel)]="userinscriptiondetails.buildingnumber" required>

                                                    <input type="button" value="Reset Address" (click)="resetInput()">

                                                </div>

                                            </div>



                                            <!-- Gender -->

                                            <div class="form-group d-flex justify-start gap-5 mt-2">
                                                <label for="gender" id="gender"
                                                    class=" align-self-start">Gender:</label>
                                                <div>
                                                    <input type="radio" name="gender" value="male"
                                                        [(ngModel)]="userinscriptiondetails.gender" #gender required>
                                                    <span> Male</span>
                                                </div>
                                                <div>
                                                    <input type="radio" name="gender" value="female"
                                                        [(ngModel)]="userinscriptiondetails.gender" #gender>
                                                    <span> Female</span>
                                                </div>
                                            </div>



                                            <button class="btn" [disabled]="registrationForm.invalid"
                                                #submitButton>Submit
                                            </button>
                                            <svg class=" previousArrow toSecondFace" (click)=" changingFace($event)"
                                                xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M19 12H5M12 19L5 12l7-7" class="previousArrow toSecondFace"
                                                    (click)=" changingFace($event)" />
                                            </svg>

                                        </div>
                                        <!-- End of Third Face  -->


                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
</section>

<!-- <app-messagebootstrap></app-messagebootstrap> -->